GD-M /DA Soak Test
------------------

A standalone soak test for GD-M and DA in a Set 5 unit has been added
to the GD-M firmware (v2.9.0e and above).

The soak test will continuously test the following:

- GD-M Host SCSI Port
- DA Host SCSI Port
- DA JTAG link
- GD-Drive
- GD-M emulator
- CDDA Audio from GD-Drive and GD-M


Creating Test Emulation and GD-ROM 
----------------------------------

1. Upgrade the GD-M to soak test firmware version.

2. Create an emulation on the GD-M using GD Workshop.

	5 tracks are required
		Track1 (Mode1)  -> add file memcheck.bin
		Track 2 (CDDA) -> add file Track2.pcm
		Track 3(Mode1)  -> add file memcheck.bin
		Track 4 (CDDA) -> add file Track4.pcm
		Track 5(Mode1)  -> add file 1st_read.bin

	Add system files:
		ip_sda.bin  (Single Density Area) 
		ip_hda.bin (High Density Area)

3. Ensure Auto-Emulate is enabled.

4. Close the door (ignoring errors concerning copyright files)

5. Save Emulation

6. Burn a GD-ROM of this emulation.

7. Change Track4 to file GDM_trk4.pcm (so GD-M and GD-ROM have different audio).

8. Close the door (ignoring errors concerning copyright files)

9. Save Emulation and exit GD Workshop.

10. Now Power-down PC and then Power down Set 5.


Test Connection Details
-----------------------

1. Disconnect all SCSI leads from Set 5.

2. Connect a 50 way SCSI lead between the SCSI-B port and the GD-Writer
   Port on the back of the Set5.

3. Add SCSI Terminator to SCSI-A

4. Set DA SCSI ID (nearest to SCSI-A) to 6.

5. Set GD-M SCSI ID (nearest to SCSI-B) to 1,2,3,4 or 5.

6. Insert Soak test GD-ROM into GD-Drive.

7. Power up Set5.


Soak Test Sequence
------------------

The Set5 will boot as normal for approximately 10 seconds. 
The front panel hard disk LED will then light permanently to indicate the
Soak test is running.  If this LED turns to flashing during the tests the an
Error has occurred and the test has failed.  An error code is generated by the
number of flashes of the hard disk LED before a 5 second OFF period.
The Error Codes are provided below.

The front panel CD LED will alternate from permanent ON (GD-Drive tests)
to occassional ON (GD-M tests).  The front panel Communications LED will give
occasional ON to indicate data transfer between GD-M and DA.
 
An audio message "Warning this disc is for use only on Sega Dreamcast" can
be heard at intervals during the test from the GD-Drive and
"This is the GD-M audio test" from the GD-M, if an amplifier/speaker
is connected to the Set 5 Audio port.


Error Codes
-----------

 1: Hard disk read failed
 2: File System fault
 3: Failed to emulate GD-M project
 4: GD-M Host SCSI fault
 5: GD-M Host SCSI fault
 6: DA and GD-M have different Serial Numbers
 7: DA Host SCSI fault (Test Unit Ready failed)
 8: DA Host SCSI fault (Inquiry failed)
 9: JTAG DA-Target Write Memory failed
10: JTAG DA-Target Read Memory failed
11: DA-Target memory compare failed
12: Failed to execute test program
13: Failed to read DA Status
14: GD Test program failed - GD read check 1
15: GD Test program failed - drive not ready
16: GD Test program failed - Identify Device
17: GD Test program failed - GD read check 2
18: GD Test program failed - GD read failed
19: GD Test program failed - TOC read failed
20: GD Test program failed - other

